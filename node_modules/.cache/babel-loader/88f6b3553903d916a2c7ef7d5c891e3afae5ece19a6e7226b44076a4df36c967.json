{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhaks\\\\OneDrive\\\\Desktop\\\\PolicyPal\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from './components/Sidebar';\nimport ChatArea from './components/ChatArea';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\nimport { Send } from 'lucide-react';\nimport { ThemeProvider } from './context/ThemeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showSignUp, setShowSignUp] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [chats, setChats] = useState(() => {\n    const currentUser = JSON.parse(localStorage.getItem('policypal_currentUser'));\n    if (!currentUser) return [];\n    const savedChats = localStorage.getItem(`policypal_chats_${currentUser.id}`);\n    return savedChats ? JSON.parse(savedChats) : [{\n      id: 1,\n      title: 'New Policy Chat',\n      messages: []\n    }];\n  });\n  const [currentChatId, setCurrentChatId] = useState(1);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  useEffect(() => {\n    const user = localStorage.getItem('policypal_currentUser');\n    if (user) {\n      const parsedUser = JSON.parse(user);\n      setCurrentUser(parsedUser);\n      setIsAuthenticated(true);\n\n      // Load user's chats\n      const savedChats = localStorage.getItem(`policypal_chats_${parsedUser.id}`);\n      if (savedChats) {\n        setChats(JSON.parse(savedChats));\n      }\n    }\n  }, []);\n\n  // Save chats whenever they change\n  useEffect(() => {\n    if (currentUser && chats) {\n      localStorage.setItem(`policypal_chats_${currentUser.id}`, JSON.stringify(chats));\n    }\n  }, [chats, currentUser]);\n  const handleSignIn = user => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n\n    // Load user's chats\n    const savedChats = localStorage.getItem(`policypal_chats_${user.id}`);\n    if (savedChats) {\n      setChats(JSON.parse(savedChats));\n    } else {\n      setChats([{\n        id: 1,\n        title: 'New Policy Chat',\n        messages: []\n      }]);\n    }\n  };\n  const handleSignUp = user => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n    setShowSignUp(false);\n  };\n  const handleSignOut = () => {\n    // Save chats one last time before signing out\n    if (currentUser) {\n      localStorage.setItem(`policypal_chats_${currentUser.id}`, JSON.stringify(chats));\n    }\n    localStorage.removeItem('policypal_currentUser');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setChats([]);\n  };\n  const currentChat = chats.find(chat => chat.id === currentChatId);\n  const createNewChat = () => {\n    const newChat = {\n      id: `${currentUser.id}_${Date.now()}`,\n      title: 'New Policy Chat',\n      messages: []\n    };\n    setChats(prev => [newChat, ...prev]);\n    setCurrentChatId(newChat.id);\n    setInputMessage('');\n  };\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now(),\n      content: inputMessage,\n      role: 'user',\n      timestamp: new Date().toISOString()\n    };\n\n    // Update current chat with user message\n    setChats(prev => prev.map(chat => chat.id === currentChatId ? {\n      ...chat,\n      messages: [...chat.messages, userMessage],\n      title: chat.messages.length === 0 ? inputMessage.slice(0, 30) + '...' : chat.title\n    } : chat));\n    setInputMessage('');\n    setIsLoading(true);\n\n    // Get AI response from backend\n    try {\n      const aiResponse = await generateAIResponse(inputMessage);\n      const aiMessage = {\n        id: Date.now() + 1,\n        content: aiResponse,\n        role: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n      setChats(prev => prev.map(chat => chat.id === currentChatId ? {\n        ...chat,\n        messages: [...chat.messages, aiMessage]\n      } : chat));\n    } catch (error) {\n      console.error('Error getting AI response:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        content: \"I apologize, but I'm having trouble processing your request right now. Please try again later.\",\n        role: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n      setChats(prev => prev.map(chat => chat.id === currentChatId ? {\n        ...chat,\n        messages: [...chat.messages, errorMessage]\n      } : chat));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const generateAIResponse = async userInput => {\n    try {\n      // Get user profile\n      const userId = localStorage.getItem('userId') || 'default';\n      const profileResponse = await fetch(`http://localhost:5000/api/profile/${userId}`);\n      const profile = await profileResponse.json();\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userInput,\n          profile: profile // Include user profile in chat request\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to get response from AI');\n      }\n      const data = await response.json();\n      return data.response;\n    } catch (error) {\n      console.error('Error calling AI API:', error);\n      return `I apologize, but I'm having trouble connecting to my AI service right now. Please try again later. Error: ${error.message}`;\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  const deleteChat = chatId => {\n    setChats(prev => prev.filter(chat => chat.id !== chatId));\n    if (currentChatId === chatId) {\n      const remainingChats = chats.filter(chat => chat.id !== chatId);\n      if (remainingChats.length > 0) {\n        setCurrentChatId(remainingChats[0].id);\n      } else {\n        createNewChat();\n      }\n    }\n  };\n  const renameChat = (chatId, newTitle) => {\n    setChats(prev => prev.map(chat => chat.id === chatId ? {\n      ...chat,\n      title: newTitle\n    } : chat));\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: !isAuthenticated ? showSignUp ? /*#__PURE__*/_jsxDEV(SignUp, {\n      onSignUp: handleSignUp,\n      onSwitchToSignIn: () => setShowSignUp(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n      onSignIn: handleSignIn,\n      onSwitchToSignUp: () => setShowSignUp(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen\",\n      style: {\n        backgroundColor: 'var(--background-primary)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        chats: chats,\n        currentChatId: currentChatId,\n        onChatSelect: setCurrentChatId,\n        onCreateNewChat: createNewChat,\n        onDeleteChat: deleteChat,\n        onRenameChat: renameChat,\n        isOpen: sidebarOpen,\n        onToggle: () => setSidebarOpen(!sidebarOpen),\n        onSignOut: handleSignOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center p-4 border-b border-policypal-border bg-policypal-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-lg font-semibold\",\n            children: \"PolicyPal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChatArea, {\n          messages: (currentChat === null || currentChat === void 0 ? void 0 : currentChat.messages) || [],\n          isLoading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-policypal-border bg-policypal-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                placeholder: \"Ask about policies, regulations, or compliance...\",\n                className: \"w-full p-4 pr-12 bg-policypal-light border border-policypal-border rounded-lg resize-none focus:outline-none focus:border-policypal-blue transition-colors\",\n                rows: \"1\",\n                style: {\n                  minHeight: '52px',\n                  maxHeight: '200px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: sendMessage,\n                disabled: !inputMessage.trim() || isLoading,\n                className: \"absolute right-2 top-2 p-2 bg-policypal-blue hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400 mt-2 text-center\",\n              children: \"PolicyPal. Your AI-powered policy assistant. Get instant guidance on policies, regulations, and compliance matters.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8n184FNeqKu/35YLXE2qvUWoQb4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","ChatArea","SignIn","SignUp","Send","ThemeProvider","jsxDEV","_jsxDEV","App","_s","isAuthenticated","setIsAuthenticated","showSignUp","setShowSignUp","currentUser","setCurrentUser","chats","setChats","JSON","parse","localStorage","getItem","savedChats","id","title","messages","currentChatId","setCurrentChatId","inputMessage","setInputMessage","isLoading","setIsLoading","sidebarOpen","setSidebarOpen","user","parsedUser","setItem","stringify","handleSignIn","handleSignUp","handleSignOut","removeItem","currentChat","find","chat","createNewChat","newChat","Date","now","prev","sendMessage","trim","userMessage","content","role","timestamp","toISOString","map","length","slice","aiResponse","generateAIResponse","aiMessage","error","console","errorMessage","userInput","userId","profileResponse","fetch","profile","json","response","method","headers","body","message","ok","errorData","Error","data","handleKeyPress","e","key","shiftKey","preventDefault","deleteChat","chatId","filter","remainingChats","renameChat","newTitle","children","onSignUp","onSwitchToSignIn","fileName","_jsxFileName","lineNumber","columnNumber","onSignIn","onSwitchToSignUp","className","style","backgroundColor","onChatSelect","onCreateNewChat","onDeleteChat","onRenameChat","isOpen","onToggle","onSignOut","value","onChange","target","onKeyPress","placeholder","rows","minHeight","maxHeight","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/dhaks/OneDrive/Desktop/PolicyPal/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Sidebar from './components/Sidebar';\nimport ChatArea from './components/ChatArea';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\nimport { Send } from 'lucide-react';\nimport { ThemeProvider } from './context/ThemeContext';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showSignUp, setShowSignUp] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [chats, setChats] = useState(() => {\n    const currentUser = JSON.parse(localStorage.getItem('policypal_currentUser'));\n    if (!currentUser) return [];\n    \n    const savedChats = localStorage.getItem(`policypal_chats_${currentUser.id}`);\n    return savedChats ? JSON.parse(savedChats) : [{\n      id: 1,\n      title: 'New Policy Chat',\n      messages: []\n    }];\n  });\n  const [currentChatId, setCurrentChatId] = useState(1);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  useEffect(() => {\n    const user = localStorage.getItem('policypal_currentUser');\n    if (user) {\n      const parsedUser = JSON.parse(user);\n      setCurrentUser(parsedUser);\n      setIsAuthenticated(true);\n      \n      // Load user's chats\n      const savedChats = localStorage.getItem(`policypal_chats_${parsedUser.id}`);\n      if (savedChats) {\n        setChats(JSON.parse(savedChats));\n      }\n    }\n  }, []);\n\n  // Save chats whenever they change\n  useEffect(() => {\n    if (currentUser && chats) {\n      localStorage.setItem(`policypal_chats_${currentUser.id}`, JSON.stringify(chats));\n    }\n  }, [chats, currentUser]);\n\n  const handleSignIn = (user) => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n    \n    // Load user's chats\n    const savedChats = localStorage.getItem(`policypal_chats_${user.id}`);\n    if (savedChats) {\n      setChats(JSON.parse(savedChats));\n    } else {\n      setChats([{\n        id: 1,\n        title: 'New Policy Chat',\n        messages: []\n      }]);\n    }\n  };\n\n  const handleSignUp = (user) => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n    setShowSignUp(false);\n  };\n\n  const handleSignOut = () => {\n    // Save chats one last time before signing out\n    if (currentUser) {\n      localStorage.setItem(`policypal_chats_${currentUser.id}`, JSON.stringify(chats));\n    }\n    \n    localStorage.removeItem('policypal_currentUser');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setChats([]);\n  };\n\n  const currentChat = chats.find(chat => chat.id === currentChatId);\n\n  const createNewChat = () => {\n    const newChat = {\n      id: `${currentUser.id}_${Date.now()}`,\n      title: 'New Policy Chat',\n      messages: []\n    };\n    setChats(prev => [newChat, ...prev]);\n    setCurrentChatId(newChat.id);\n    setInputMessage('');\n  };\n\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n\n    const userMessage = {\n      id: Date.now(),\n      content: inputMessage,\n      role: 'user',\n      timestamp: new Date().toISOString()\n    };\n\n    // Update current chat with user message\n    setChats(prev => prev.map(chat => \n      chat.id === currentChatId \n        ? { \n            ...chat, \n            messages: [...chat.messages, userMessage],\n            title: chat.messages.length === 0 ? inputMessage.slice(0, 30) + '...' : chat.title\n          }\n        : chat\n    ));\n\n    setInputMessage('');\n    setIsLoading(true);\n\n    // Get AI response from backend\n    try {\n      const aiResponse = await generateAIResponse(inputMessage);\n      const aiMessage = {\n        id: Date.now() + 1,\n        content: aiResponse,\n        role: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n\n      setChats(prev => prev.map(chat => \n        chat.id === currentChatId \n          ? { ...chat, messages: [...chat.messages, aiMessage] }\n          : chat\n      ));\n    } catch (error) {\n      console.error('Error getting AI response:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        content: \"I apologize, but I'm having trouble processing your request right now. Please try again later.\",\n        role: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n\n      setChats(prev => prev.map(chat => \n        chat.id === currentChatId \n          ? { ...chat, messages: [...chat.messages, errorMessage] }\n          : chat\n      ));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const generateAIResponse = async (userInput) => {\n    try {\n      // Get user profile\n      const userId = localStorage.getItem('userId') || 'default';\n      const profileResponse = await fetch(`http://localhost:5000/api/profile/${userId}`);\n      const profile = await profileResponse.json();\n\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: userInput,\n          profile: profile // Include user profile in chat request\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to get response from AI');\n      }\n\n      const data = await response.json();\n      return data.response;\n    } catch (error) {\n      console.error('Error calling AI API:', error);\n      return `I apologize, but I'm having trouble connecting to my AI service right now. Please try again later. Error: ${error.message}`;\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const deleteChat = (chatId) => {\n    setChats(prev => prev.filter(chat => chat.id !== chatId));\n    if (currentChatId === chatId) {\n      const remainingChats = chats.filter(chat => chat.id !== chatId);\n      if (remainingChats.length > 0) {\n        setCurrentChatId(remainingChats[0].id);\n      } else {\n        createNewChat();\n      }\n    }\n  };\n\n  const renameChat = (chatId, newTitle) => {\n    setChats(prev => prev.map(chat => \n      chat.id === chatId ? { ...chat, title: newTitle } : chat\n    ));\n  };\n\n      return (\n    <ThemeProvider>\n      {!isAuthenticated ? (\n        showSignUp ? (\n          <SignUp \n            onSignUp={handleSignUp}\n            onSwitchToSignIn={() => setShowSignUp(false)}\n          />\n        ) : (\n          <SignIn \n            onSignIn={handleSignIn}\n            onSwitchToSignUp={() => setShowSignUp(true)}\n          />\n        )\n      ) : (\n        <div className=\"flex h-screen\" style={{ backgroundColor: 'var(--background-primary)' }}>\n        {/* Sidebar */}\n               <Sidebar\n         chats={chats}\n         currentChatId={currentChatId}\n         onChatSelect={setCurrentChatId}\n         onCreateNewChat={createNewChat}\n         onDeleteChat={deleteChat}\n         onRenameChat={renameChat}\n         isOpen={sidebarOpen}\n         onToggle={() => setSidebarOpen(!sidebarOpen)}\n         onSignOut={handleSignOut}\n       />\n\n        {/* Main Chat Area */}\n        <div className=\"flex-1 flex flex-col\">\n          {/* Header */}\n          <div className=\"flex items-center justify-center p-4 border-b border-policypal-border bg-policypal-dark\">\n            <h1 className=\"text-lg font-semibold\">PolicyPal</h1>\n          </div>\n\n        {/* Chat Messages */}\n        <ChatArea \n          messages={currentChat?.messages || []} \n          isLoading={isLoading}\n        />\n\n        {/* Input Area */}\n        <div className=\"p-4 border-t border-policypal-border bg-policypal-dark\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"relative\">\n              <textarea\n                value={inputMessage}\n                onChange={(e) => setInputMessage(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Ask about policies, regulations, or compliance...\"\n                className=\"w-full p-4 pr-12 bg-policypal-light border border-policypal-border rounded-lg resize-none focus:outline-none focus:border-policypal-blue transition-colors\"\n                rows=\"1\"\n                style={{ minHeight: '52px', maxHeight: '200px' }}\n              />\n              <button\n                onClick={sendMessage}\n                disabled={!inputMessage.trim() || isLoading}\n                className=\"absolute right-2 top-2 p-2 bg-policypal-blue hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md transition-colors\"\n              >\n                <Send className=\"w-4 h-4\" />\n              </button>\n            </div>\n            <p className=\"text-xs text-gray-400 mt-2 text-center\">\n              PolicyPal. Your AI-powered policy assistant. Get instant guidance on policies, regulations, and compliance matters.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n      )}\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}